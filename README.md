# fhirlight

fhirlight is a set of django models that conform to the [NHS FHIR standards](https://simplifier.net/guide/uk-core-implementation-guide-stu3-sequence?version=1.7.0)

* Models are hand-written
* The serializers are largely autogenerated
* All models are tested at the serializer and GET, POST view level

This is not:

* Complete
* Secure
* A standalone app

This might be useful to you if you want:

* Some FHIR models to use in your app
* To see how it is possible to tackle some of the trickier aspects of FHIR such as polymorphism.

## status

* This project is in alpha. 
* A strict subset of the UK Core FHIR spec to identify has been identified.
* All profiles now have a minimal model-serializer-view and are tested against the UK Core examples for API:
  * GET ✅
  * POST ✅
  * DELETE ✅
  * PUT ❌
* All profiles will be extended to include the full UK FHIR spec, once this milestone has been achieved the project will
  be considered to be in v1 and future changes will be backward compatible.

## models included


| profile                         | minimal spec  | maximal spec |
|---------------------------------|---------------|--------------|
| UKCore-AllergyIntolerance       | ✅             | ❌            |
| UKCore-Appointment              | ✅             | ❌            |
| UKCore-Composition              | ✅             | ❌            |
| UKCore-Condition                | ✅             | ❌            |
| UKCore-Consent                  | ✅             | ❌            |
| UKCore-Device                   | ✅             | ❌            |
| UKCore-DiagnosticReport         | ✅             | ❌            |
| UKCore-Encounter                | ✅             | ❌            |
| UKCore-EpisodeOfCare            | ✅             | ❌            |
| UKCore-FamilyMemberHistory      | ✅             | ❌            |
| UKCore-Flag                     | ✅             | ❌            |
| UKCore-HealthcareService        | ✅             | ❌            |
| UKCore-ImagingStudy             | ✅             | ❌            |
| UKCore-Immunization             | ✅             | ❌            |
| UKCore-List                     | ✅             | ❌            |
| UKCore-Location                 | ✅             | ❌            |
| UKCore-Medication               | ✅             | ❌            |
| UKCore-MedicationAdministration | ✅             | ❌            |
| UKCore-MedicationDispense       | ✅             | ❌            |
| UKCore-MedicationRequest        | ✅             | ❌            |
| UKCore-MedicationStatement      | ✅             | ❌            |
| UKCore-MessageHeader            | ✅             | ❌            |
| UKCore-Observation              | ✅             | ❌            |
| UKCore-OperationOutcome         | ✅             | ❌            |
| UKCore-Organization             | ✅             | ✅            |
| UKCore-Patient                  | ✅             | ❌            |
| UKCore-Practitioner             | ✅             | ❌            |
| UKCore-PractitionerRole         | ✅             | ❌            |
| UKCore-Procedure                | ✅             | ❌            |
| UKCore-Questionnaire            | ✅             | ❌            |
| UKCore-QuestionnaireResponse    | ✅             | ❌            |
| UKCore-RelatedPerson            | ✅             | ❌            |
| UKCore-Schedule                 | ✅             | ❌            |
| UKCore-ServiceRequest           | ✅             | ❌            |
| UKCore-Slot                     | ✅             | ❌            |
| UKCore-Specimen                 | ✅             | ❌            |
| UKCore-Task                     | ✅             | ❌            |


## intentional exclusions
fhirlight does not support the full UK-Core specification. Generally this is because the cost of some features outweighs
the benefits.

### Codeable-Concepts
Codeable-Concepts will only ever have one coding. The reason for this is that the cost of having many join
tables is high, and the benefit of being able to encode the same thing two different ways is low.

i.e. POSTing the following would result in an error because there are two encodings:
```json
"code" : {
  "coding":  [
    {
      "system": "http://snomed.info/sct",
      "code": "60621009",
      "display": "Body mass index"
    },
    {
      "system": "http://loinc.org",
      "code": "39156-5",
      "display": "Body mass index (BMI) [Ratio]"
    }
  ]
}
```

but the following would be legitimate.
```json
"code": {
  "coding":  [
    {
      "system": "http://snomed.info/sct",
      "code": "60621009",
      "display": "Body mass index"
    }
  ]
}
```

### text
Generally `text` fields are not supported.

### datetimes
Only ISO DateTimes are supported and they will always be rendered as UTC by the API. 

### references
The only reference type supported is:
```json
{"reference": "<type>/<identifier>"}
```
all other fields such as `type`, `identifier`, `display` are not allowed and will result in an error. Note that this 
means that it is not possible to reference an external entity.
)


### endpoint

Endpoints are excluded